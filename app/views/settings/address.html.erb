<div class="header">
    <h1>Your Settings: Shipping Address</h1>
</div>
<div class="contents">
    <%= render "shared/dashboard/settings_navigation" %>
    <h3>Current Addresses</h3>
    <% if current_user.addresses %>
        <%= render "address", :collection => current_user.addresses %> 
    <% else %>
        <p>You haven't added any shipping addresses yet - please enter one below:</p>
    <% end %>
    <h3>Add New Address</h3>
    <% if false %>
    <%# TODO: Handle errors %>
    <div class="error_list">
        <h4>Opps, the following errors occurred. Please correct them and try submitting the form again.</h4>
        <ul>
        <?php foreach ($errors as $error): ?>
            <li><?php echo $error; ?></li>
        <?php endforeach; ?>
        </ul>
    </div>
    <% end %>
    <%= form_for [:settings, @address] do |f| %>
        <%= f.label :full_name, "Full name of the person to ship to" %>
        <%= f.text_field :full_name %>
        <%= f.label :street1, "Street address" %>
        <%= f.text_field :street1 %>
        <%= f.label :street2, "Apartment, Building, Suite, etc." %>
        <%= f.text_field :street2 %>
        <%= f.label :city %>
        <%= f.text_field :city %>
        <%= f.label :state, "State or Region" %>
        <%= f.text_field :state %>
        <%= f.label :zip, "Zip/Postal Code" %>
        <%= f.text_field :zip %>
        <div class="input">
            <%= f.label :country %>
            <%# TODO: Add a dropdown for countries, maybe using country-select? %>
        </div>
        <%= f.submit "Save Address", :class => "btn", :id => "submit_btn" %>
    <% end %>
</div>
